var MainScene,
  __bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; },
  __hasProp = {}.hasOwnProperty,
  __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };

MainScene = (function(_super) {
  __extends(MainScene, _super);

  function MainScene() {
    this.onMouseMove = __bind(this.onMouseMove, this);
    this.onKeyUp = __bind(this.onKeyUp, this);
    this.onKeyDown = __bind(this.onKeyDown, this);
    var ambientLight, angle, b, forest, geometry, i, j, jizz, plane, pointLight, radius, ratio, stone, v, vertices, _i, _j, _k, _l, _len, _ref, _ref1, _ref2, _ref3;
    Physics.init();
    Stage3d.scene.fog = new THREE.FogExp2(0, 0.0025);
    ambientLight = new THREE.AmbientLight(0x111116);
    pointLight = new THREE.PointLight(0xCCCCFF, 3, 120);
    pointLight.position.set(0, 100, 0);
    Forest.init();
    forest = new Forest();
    Stage3d.add(forest);
    Stage3d.add(ambientLight);
    Stage3d.add(pointLight);
    geometry = new THREE.PlaneGeometry(1000, 1000, 200, 200);
    vertices = geometry.vertices;
    jizz = 2;
    for (i = _i = 0, _ref = vertices.length; _i < _ref; i = _i += 1) {
      v = vertices[i];
      v.x += (Math.random() - .5) * jizz;
      v.z += (Math.random() - .5) * jizz;
      v.y += (Math.random() - .5) * jizz;
    }
    plane = new THREE.Mesh(geometry, new THREE.MeshLambertMaterial({
      map: Data.textures['ice01.jpg'],
      envMap: Data.textures.reflectionMap,
      color: 0xFFFFFF
    }));
    plane.rotation.x = -Math.PI / 2;
    Stage3d.add(plane);
    geometry = new THREE.PlaneGeometry(200, 200, 50, 50);
    vertices = geometry.vertices;
    jizz = 2;
    for (i = _j = 0, _ref1 = vertices.length; _j < _ref1; i = _j += 1) {
      v = vertices[i];
      v.x += (Math.random() - .5) * jizz;
      v.z += (Math.random() - .5) * jizz;
      v.y += (Math.random() - .5) * jizz;
    }
    plane = new THREE.Mesh(geometry, new THREE.MeshLambertMaterial({
      map: Data.textures['ice01.jpg'],
      envMap: Data.textures.reflectionMap,
      color: 0xFFFFFF
    }));
    plane.rotation.x = -Math.PI / 2;
    Stage3d.add(plane);
    this.lightAura = new LightAura();
    Stage3d.add(this.lightAura);
    ratio = .3;
    this.head = new Attractor3d(10 * ratio, 'head', 1, 2);
    this.head.basePosition.set(0, 45 * ratio, 40 * ratio);
    this.body = new Attractor3d(50 * ratio, 'body', 100, 1);
    this.body.basePosition.set(0, 25 * ratio, 0);
    this.shoulderLeft = new Attractor3d(5 * ratio, 'shoulderLeft', 4, 1.3);
    this.shoulderLeft.basePosition.set(-50 * ratio, 50 * ratio, 0);
    this.shoulderRight = new Attractor3d(5 * ratio, 'shoulderRight', 4, 1.3);
    this.shoulderRight.basePosition.set(50 * ratio, 50 * ratio, 0);
    this.handLeft = new Attractor3d(5 * ratio, 'handLeft', 7, .8);
    this.handLeft.basePosition.set(-75 * ratio, -5 * ratio, 0);
    this.handRight = new Attractor3d(5 * ratio, 'handRight', 7, .8);
    this.handRight.basePosition.set(75 * ratio, -5 * ratio, 0);
    this.elbowLeft = new Attractor3d(5 * ratio, 'elbowLeft', 4, .6);
    this.elbowLeft.basePosition.set(-70 * ratio, 20 * ratio, -5 * ratio);
    this.elbowRight = new Attractor3d(5 * ratio, 'elbowRight', 4, .6);
    this.elbowRight.basePosition.set(70 * ratio, 20 * ratio, -5 * ratio);
    this.bodies = [this.head, this.body, this.shoulderLeft, this.shoulderRight, this.handLeft, this.handRight, this.elbowRight, this.elbowLeft];
    this.stones = [];
    _ref2 = this.bodies;
    for (_k = 0, _len = _ref2.length; _k < _len; _k++) {
      b = _ref2[_k];
      Stage3d.add(b);
      b.update(0, 1.4);
      for (j = _l = 0, _ref3 = b.stonesRequire; _l < _ref3; j = _l += 1) {
        angle = Math.PI * 2 * Math.random();
        radius = 40 + 100 * Math.random();
        stone = new Stone(null, Math.cos(angle) * radius, 0, Math.sin(angle) * radius, b.scaleStone);
        stone.target = b.target;
        Stage3d.add(stone);
        stone.scale.multiplyScalar(.4 + .1 * Math.random());
        this.stones.push(stone);
      }
    }
    this.source = new Source();
    this.source.position.y = 25;
    Stage3d.add(this.source);
    this.temple = new Temple();
    this.cameraFree = false;
    Stage3d.camera.position.set(0, 20, 2000);
    TweenLite.to(Stage3d.camera.position, 6, {
      z: 140,
      ease: Quad.easeOut,
      onComplete: (function(_this) {
        return function() {
          return _this.cameraFree = true;
        };
      })(this)
    });
    this.mouse = new THREE.Vector2(window.innerWidth / 2, window.innerHeight / 2);
    this.angle = Math.PI / 2;
    this.radius = 140;
    window.addEventListener('mousemove', this.onMouseMove);
    this.golem = false;
    window.addEventListener('keyup', this.onKeyUp);
    window.addEventListener('keydown', this.onKeyDown);
    return;
  }

  MainScene.prototype.onKeyDown = function(e) {
    this.golem = true;
    Physics.world.gravity = new OIMO.Vec3(0, 0, 0);
  };

  MainScene.prototype.onKeyUp = function(e) {
    this.golem = false;
    Physics.world.gravity = new OIMO.Vec3(0, -9.8 / 100, 0);
  };

  MainScene.prototype.onMouseMove = function(e) {
    this.mouse.x = e.clientX || e.x;
    this.mouse.y = e.clientY || e.y;
  };

  MainScene.prototype.update = function(dt) {
    var radius, stone, targetBody, _i, _len, _ref;
    radius = 140;
    if (this.cameraFree) {
      this.angle -= (this.mouse.x / window.innerWidth - .5) * 0.01;
      Stage3d.camera.position.x = Math.cos(this.angle) * radius;
      Stage3d.camera.position.z = Math.sin(this.angle) * radius;
      Stage3d.camera.rotation.y = Math.atan2(-Stage3d.camera.position.z, Stage3d.camera.position.x) + Math.PI / 2;
    }
    Stage3d.camera.rotation.x += (((1 - this.mouse.y / window.innerHeight) * .3 - .1) - Stage3d.camera.rotation.x) * .03;
    this.lightAura.update(dt);
    this.source.update(dt);
    Physics.update();
    targetBody = new THREE.Vector3(0, .25, 0);
    _ref = this.stones;
    for (_i = 0, _len = _ref.length; _i < _len; _i++) {
      stone = _ref[_i];
      stone.update(dt, this.golem);
    }
  };

  return MainScene;

})(Scene);

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImdvbGVtL3NjZW5lcy9NYWluU2NlbmUuY29mZmVlIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLElBQUEsU0FBQTtFQUFBOztpU0FBQTs7QUFBQTtBQUVDLDhCQUFBLENBQUE7O0FBQVksRUFBQSxtQkFBQSxHQUFBO0FBR1gscURBQUEsQ0FBQTtBQUFBLDZDQUFBLENBQUE7QUFBQSxpREFBQSxDQUFBO0FBQUEsUUFBQSwySkFBQTtBQUFBLElBQUEsT0FBTyxDQUFDLElBQVIsQ0FBQSxDQUFBLENBQUE7QUFBQSxJQUdBLE9BQU8sQ0FBQyxLQUFLLENBQUMsR0FBZCxHQUF3QixJQUFBLEtBQUssQ0FBQyxPQUFOLENBQWUsQ0FBZixFQUFrQixNQUFsQixDQUh4QixDQUFBO0FBQUEsSUFJQSxZQUFBLEdBQW1CLElBQUEsS0FBSyxDQUFDLFlBQU4sQ0FBbUIsUUFBbkIsQ0FKbkIsQ0FBQTtBQUFBLElBS0EsVUFBQSxHQUFpQixJQUFBLEtBQUssQ0FBQyxVQUFOLENBQWlCLFFBQWpCLEVBQTJCLENBQTNCLEVBQThCLEdBQTlCLENBTGpCLENBQUE7QUFBQSxJQU1BLFVBQVUsQ0FBQyxRQUFRLENBQUMsR0FBcEIsQ0FBd0IsQ0FBeEIsRUFBMEIsR0FBMUIsRUFBOEIsQ0FBOUIsQ0FOQSxDQUFBO0FBQUEsSUFTQSxNQUFNLENBQUMsSUFBUCxDQUFBLENBVEEsQ0FBQTtBQUFBLElBVUEsTUFBQSxHQUFhLElBQUEsTUFBQSxDQUFBLENBVmIsQ0FBQTtBQUFBLElBV0EsT0FBTyxDQUFDLEdBQVIsQ0FBYSxNQUFiLENBWEEsQ0FBQTtBQUFBLElBWUEsT0FBTyxDQUFDLEdBQVIsQ0FBYSxZQUFiLENBWkEsQ0FBQTtBQUFBLElBYUEsT0FBTyxDQUFDLEdBQVIsQ0FBYSxVQUFiLENBYkEsQ0FBQTtBQUFBLElBZ0JBLFFBQUEsR0FBZSxJQUFBLEtBQUssQ0FBQyxhQUFOLENBQW9CLElBQXBCLEVBQXlCLElBQXpCLEVBQThCLEdBQTlCLEVBQWtDLEdBQWxDLENBaEJmLENB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QUssQ0FBQyxDQUFQLEdBQVMsTUFBTSxDQUFDLFdBQW5CLENBQUEsR0FBZ0MsRUFBaEMsR0FBcUMsRUFBdEMsQ0FBQSxHQUEwQyxPQUFPLENBQUMsTUFBTSxDQUFDLFFBQVEsQ0FBQyxDQUFuRSxDQUFBLEdBQXNFLEdBTm5HLENBQUE7QUFBQSxJQU9BLElBQUMsQ0FBQSxTQUFTLENBQUMsTUFBWCxDQUFrQixFQUFsQixDQVBBLENBQUE7QUFBQSxJQVFBLElBQUMsQ0FBQSxNQUFNLENBQUMsTUFBUixDQUFlLEVBQWYsQ0FSQSxDQUFBO0FBQUEsSUFVQSxPQUFPLENBQUMsTUFBUixDQUFBLENBVkEsQ0FBQTtBQUFBLElBYUEsVUFBQSxHQUFpQixJQUFBLEtBQUssQ0FBQyxPQUFOLENBQWMsQ0FBZCxFQUFnQixHQUFoQixFQUFvQixDQUFwQixDQWJqQixDQUFBO0FBY0E7QUFBQSxTQUFBLDJDQUFBO3VCQUFBO0FBQ0MsTUFBQSxLQUFLLENBQUMsTUFBTixDQUFhLEVBQWIsRUFBaUIsSUFBQyxDQUFBLEtBQWxCLENBQUEsQ0FERDtBQUFBLEtBZk07RUFBQSxDQS9KUCxDQUFBOzttQkFBQTs7R0FGdUIsTUFBeEIsQ0FBQSIsImZpbGUiOiJnb2xlbS9zY2VuZXMvTWFpblNjZW5lLmpzIiwic291cmNlUm9vdCI6Ii9zb3VyY2UvIiwic291cmNlc0NvbnRlbnQiOlsiY2xhc3MgTWFpblNjZW5lIGV4dGVuZHMgU2NlbmVcblxuXHRjb25zdHJ1Y3RvcjooKS0+XG5cblx0XHQjIFBoeXNpY3Ncblx0XHRQaHlzaWNzLmluaXQoKVxuXG5cdFx0IyBMaWdodDNkXG5cdFx0U3RhZ2UzZC5zY2VuZS5mb2cgPSBuZXcgVEhSRUUuRm9nRXhwMiggMCwgMC4wMDI1IClcblx0XHRhbWJpZW50TGlnaHQgPSBuZXcgVEhSRUUuQW1iaWVudExpZ2h0KDB4MTExMTE2KVxuXHRcdHBvaW50TGlnaHQgPSBuZXcgVEhSRUUuUG9pbnRMaWdodCgweENDQ0NGRiwgMywgMTIwKVxuXHRcdHBvaW50TGlnaHQucG9zaXRpb24uc2V0KDAsMTAwLDApXG5cblx0XHQjIEZvcmVzdFxuXHRcdEZvcmVzdC5pbml0KClcblx0XHRmb3Jlc3QgPSBuZXcgRm9yZXN0KClcblx0XHRTdGFnZTNkLmFkZCggZm9yZXN0IClcblx0XHRTdGFnZTNkLmFkZCggYW1iaWVudExpZ2h0IClcblx0XHRTdGFnZTNkLmFkZCggcG9pbnRMaWdodCApXG5cdFx0XG5cdFx0IyBGbG9vclxuXHRcdGdlb21ldHJ5ID0gbmV3IFRIUkVFLlBsYW5lR2VvbWV0cnkoMTAwMCwxMDAwLDIwMCwyMDApXG5cdFx0dmVydGljZXMgPSBnZW9tZXRyeS52ZXJ0aWNlc1xuXHRcdGppenogPSAyXG5cdFx0Zm9yIGkgaW4gWzAuLi52ZXJ0aWNlcy5sZW5ndGhdIGJ5IDFcblx0XHRcdHYgPSB2ZXJ0aWNlc1tpXVxuXHRcdFx0di54ICs9IChNYXRoLnJhbmRvbSgpLS41KSpqaXp6XG5cdFx0XHR2LnogKz0gKE1hdGgucmFuZG9tKCktLjUpKmppenpcblx0XHRcdHYueSArPSAoTWF0aC5yYW5kb20oKS0uNSkqaml6elx0XG5cblx0XHRwbGFuZSA9IG5ldyBUSFJFRS5NZXNoKGdlb21ldHJ5LCBuZXcgVEhSRUUuTWVzaExhbWJlcnRNYXRlcmlhbCh7bWFwOkRhdGEudGV4dHVyZXNbJ2ljZTAxLmpwZyddLCBlbnZNYXA6RGF0YS50ZXh0dXJlcy5yZWZsZWN0aW9uTWFwLCBjb2xvcjoweEZGRkZGRn0pKVxuXHRcdFxuXHRcdHBsYW5lLnJvdGF0aW9uLnggPSAtTWF0aC5QSS8yXG5cdFx0U3RhZ2UzZC5hZGQoIHBsYW5lIClcblxuXHRcdGdlb21ldHJ5ID0gbmV3IFRIUkVFLlBsYW5lR2VvbWV0cnkoMjAwLDIwMCw1MCw1MClcblx0XHR2ZXJ0aWNlcyA9IGdlb21ldHJ5LnZlcnRpY2VzXG5cdFx0aml6eiA9IDJcblx0XHRmb3IgaSBpbiBbMC4uLnZlcnRpY2VzLmxlbmd0aF0gYnkgMVxuXHRcdFx0diA9IHZlcnRpY2VzW2ldXG5cdFx0XHR2LnggKz0gKE1hdGgucmFuZG9tKCktLjUpKmppenpcblx0XHRcdHYueiArPSAoTWF0aC5yYW5kb20oKS0uNSkqaml6elxuXHRcdFx0di55ICs9IChNYXRoLnJhbmRvbSgpLS41KSpqaXp6XHRcblxuXHRcdHBsYW5lID0gbmV3IFRIUkVFLk1lc2goZ2VvbWV0cnksIG5ldyBUSFJFRS5NZXNoTGFtYmVydE1hdGVyaWFsKHttYXA6RGF0YS50ZXh0dXJlc1snaWNlMDEuanBnJ10sIGVudk1hcDpEYXRhLnRleHR1cmVzLnJlZmxlY3Rpb25NYXAsIGNvbG9yOjB4RkZGRkZGfSkpXG5cdFx0XG5cdFx0cGxhbmUucm90YXRpb24ueCA9IC1NYXRoLlBJLzJcblx0XHRTdGFnZTNkLmFkZCggcGxhbmUgKVxuXG5cdFx0IyBMaWdodCBGWFxuXHRcdEBsaWdodEF1cmEgPSBuZXcgTGlnaHRBdXJhKClcblx0XHRTdGFnZTNkLmFkZChAbGlnaHRBdXJhKVxuXG5cdFx0IyBHb2xlbVxuXHRcdHJhdGlvID0gLjNcblx0XHRAaGVhZCA9IG5ldyBBdHRyYWN0b3IzZCgxMCpyYXRpbywnaGVhZCcsMSwyKVxuXHRcdEBoZWFkLmJhc2VQb3NpdGlvbi5zZXQoMCw0NSpyYXRpbyw0MCpyYXRpbylcblxuXHRcdEBib2R5ID0gbmV3IEF0dHJhY3RvcjNkKDUwKnJhdGlvLCdib2R5JywxMDAsMSlcblx0XHRAYm9keS5iYXNlUG9zaXRpb24uc2V0KDAsMjUqcmF0aW8sMClcblxuXHRcdEBzaG91bGRlckxlZnQgPSBuZXcgQXR0cmFjdG9yM2QoNSpyYXRpbywnc2hvdWxkZXJMZWZ0Jyw0LDEuMylcblx0XHRAc2hvdWxkZXJMZWZ0LmJhc2VQb3NpdGlvbi5zZXQoLTUwKnJhdGlvLDUwKnJhdGlvLDApXG5cblx0XHRAc2hvdWxkZXJSaWdodCA9IG5ldyBBdHRyYWN0b3IzZCg1KnJhdGlvLCdzaG91bGRlclJpZ2h0Jyw0LDEuMylcblx0XHRAc2hvdWxkZXJSaWdodC5iYXNlUG9zaXRpb24uc2V0KDUwKnJhdGlvLDUwKnJhdGlvLDApXG5cblx0XHRAaGFuZExlZnQgPSBuZXcgQXR0cmFjdG9yM2QoNSpyYXRpbywnaGFuZExlZnQnLDcsLjgpXG5cdFx0QGhhbmRMZWZ0LmJhc2VQb3NpdGlvbi5zZXQoLTc1KnJhdGlvLC01KnJhdGlvLDApXG5cblx0XHRAaGFuZFJpZ2h0ID0gbmV3IEF0dHJhY3RvcjNkKDUqcmF0aW8sJ2hhbmRSaWdodCcsNywuOClcblx0XHRAaGFuZFJpZ2h0LmJhc2VQb3NpdGlvbi5zZXQoNzUqcmF0aW8sLTUqcmF0aW8sMClcblxuXHRcdEBlbGJvd0xlZnQgPSBuZXcgQXR0cmFjdG9yM2QoNSpyYXRpbywnZWxib3dMZWZ0Jyw0LC42KVxuXHRcdEBlbGJvd0xlZnQuYmFzZVBvc2l0aW9uLnNldCgtNzAqcmF0aW8sMjAqcmF0aW8sLTUqcmF0aW8pXG5cblx0XHRAZWxib3dSaWdodCA9IG5ldyBBdHRyYWN0b3IzZCg1KnJhdGlvLCdlbGJvd1JpZ2h0Jyw0LC42KVxuXHRcdEBlbGJvd1JpZ2h0LmJhc2VQb3NpdGlvbi5zZXQoNzAqcmF0aW8sMjAqcmF0aW8sLTUqcmF0aW8pXG5cblx0XHRAYm9kaWVzID0gW0BoZWFkLCBAYm9keSwgQHNob3VsZGVyTGVmdCwgQHNob3VsZGVyUmlnaHQsIEBoYW5kTGVmdCwgQGhhbmRSaWdodCwgQGVsYm93UmlnaHQsIEBlbGJvd0xlZnRdXG5cdFx0IyBAYm9kaWVzID0gWyBAYm9keSBdXG5cdFx0IyBTdG9uZXMgbGluayB0byBib2R5XG5cdFx0QHN0b25lcyA9IFtdXG5cdFx0Zm9yIGIgaW4gQGJvZGllc1xuXHRcdFx0U3RhZ2UzZC5hZGQoYilcblx0XHRcdGIudXBkYXRlKDAsMS40KVxuXHRcdFxuXHRcdFx0Zm9yIGogaW4gWzAuLi5iLnN0b25lc1JlcXVpcmVdIGJ5IDFcblx0XHRcdFx0YW5nbGUgPSBNYXRoLlBJKjIqTWF0aC5yYW5kb20oKVxuXHRcdFx0XHRyYWRpdXMgPSA0MCsxMDAqTWF0aC5yYW5kb20oKVxuXHRcdFx0XHRzdG9uZSA9IG5ldyBTdG9uZShudWxsLCBNYXRoLmNvcyhhbmdsZSkqcmFkaXVzLCAwLCBNYXRoLnNpbihhbmdsZSkqcmFkaXVzLGIuc2NhbGVTdG9uZSlcblx0XHRcdFx0c3RvbmUudGFyZ2V0ID0gYi50YXJnZXRcblx0XHRcdFx0U3RhZ2UzZC5hZGQoc3RvbmUpXG5cdFx0XHRcdHN0b25lLnNjYWxlLm11bHRpcGx5U2NhbGFyKC40Ky4xKk1hdGgucmFuZG9tKCkpIFxuXHRcdFx0XHRAc3RvbmVzLnB1c2goc3RvbmUpXG5cblx0XHQjIFJ1bmVzXG5cblx0XHQjIEljZSB3YXRlclxuXG5cblx0XHQjIE11c2ljXG5cdFx0IyBAYmFja2dyb3VuZE11c2ljID0gbmV3IEhvd2woe1xuXHRcdCMgXHR1cmxzOiBbJ3NvdW5kcy9kYXkxLm1wMyddLFxuXHRcdCMgXHRhdXRvcGxheTogdHJ1ZSxcblx0XHQjIFx0bG9vcDogdHJ1ZSxcblx0XHQjIFx0dm9sdW1lOiAwLjIsXG5cdFx0IyB9KVxuXG5cdFx0IyBTb3VyY2UgRW5lcmd5XG5cdFx0QHNvdXJjZSA9IG5ldyBTb3VyY2UoKVxuXHRcdEBzb3VyY2UucG9zaXRpb24ueSA9IDI1XG5cdFx0U3RhZ2UzZC5hZGQoQHNvdXJjZSlcblxuXHRcdCMgVGVtcGxlXG5cdFx0QHRlbXBsZSA9IG5ldyBUZW1wbGUoKVxuXHRcdCMgU3RhZ2UzZC5hZGQoQHRlbXBsZSlcblxuXHRcdCMgU25vd1xuXG5cblx0XHQjIEVuZXJneSBQYXJ0aWNsZXNcblxuXHRcdCMgQ2FtZXJhIG1vdmVtZW50XG5cdFx0QGNhbWVyYUZyZWUgPSBmYWxzZVxuXHRcdFN0YWdlM2QuY2FtZXJhLnBvc2l0aW9uLnNldCgwLDIwLDIwMDApXG5cdFx0IyBTdGFnZTNkLmNhbWVyYS5wb3NpdGlvbi5zZXQoMCwyMCwxNDApXG5cdFx0VHdlZW5MaXRlLnRvKFN0YWdlM2QuY2FtZXJhLnBvc2l0aW9uLDYse3o6MTQwLGVhc2U6UXVhZC5lYXNlT3V0LG9uQ29tcGxldGU6KCk9PlxuXHRcdFx0QGNhbWVyYUZyZWUgPSB0cnVlXG5cdFx0fSlcblxuXHRcdCMgSW50ZXJhY3Rpb25cblx0XHRAbW91c2UgPSBuZXcgVEhSRUUuVmVjdG9yMiggd2luZG93LmlubmVyV2lkdGggLyAyLCB3aW5kb3cuaW5uZXJIZWlnaHQgLyAyIClcblx0XHRAYW5nbGUgPSBNYXRoLlBJLzI7XG5cdFx0QHJhZGl1cyA9IDE0MDtcblx0XHR3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJyxAb25Nb3VzZU1vdmUpXG5cblx0XHRAZ29sZW0gPSBmYWxzZVxuXHRcdHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdrZXl1cCcsQG9uS2V5VXApXG5cdFx0d2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLEBvbktleURvd24pXG5cdFx0IyBJbnRlcmZhY2VcblxuXG5cblx0XHRyZXR1cm5cblxuXHRvbktleURvd246KGUpPT5cblx0XHRAZ29sZW0gPSB0cnVlXG5cdFx0UGh5c2ljcy53b3JsZC5ncmF2aXR5ID0gbmV3IE9JTU8uVmVjMygwLCAwLCAwKTtcblx0XHRyZXR1cm5cblxuXHRvbktleVVwOihlKT0+XG5cdFx0QGdvbGVtID0gZmFsc2Vcblx0XHRQaHlzaWNzLndvcmxkLmdyYXZpdHkgPSBuZXcgT0lNTy5WZWMzKDAsIC05LjgvMTAwLCAwKTtcblx0XHRyZXR1cm5cblxuXHRvbk1vdXNlTW92ZTooZSk9PlxuXHRcdEBtb3VzZS54ID0gZS5jbGllbnRYIHx8IGUueFxuXHRcdEBtb3VzZS55ID0gZS5jbGllbnRZIHx8IGUueVxuXHRcdHJldHVyblxuXG5cdHVwZGF0ZTooZHQpLT5cblx0XHRyYWRpdXMgPSAxNDBcblx0XHRpZihAY2FtZXJhRnJlZSlcblx0XHRcdEBhbmdsZSAtPSAoQG1vdXNlLngvd2luZG93LmlubmVyV2lkdGggLSAuNSkqMC4wMTtcblx0XHRcdFN0YWdlM2QuY2FtZXJhLnBvc2l0aW9uLnggPSBNYXRoLmNvcyhAYW5nbGUpKnJhZGl1c1xuXHRcdFx0U3RhZ2UzZC5jYW1lcmEucG9zaXRpb24ueiA9IE1hdGguc2luKEBhbmdsZSkqcmFkaXVzXG5cdFx0XHRTdGFnZTNkLmNhbWVyYS5yb3RhdGlvbi55ID0gTWF0aC5hdGFuMigtU3RhZ2UzZC5jYW1lcmEucG9zaXRpb24ueixTdGFnZTNkLmNhbWVyYS5wb3NpdGlvbi54KStNYXRoLlBJLzJcblx0XHRTdGFnZTNkLmNhbWVyYS5yb3RhdGlvbi54ICs9ICgoKDEtQG1vdXNlLnkvd2luZG93LmlubmVySGVpZ2h0KSouMyAtIC4xKS1TdGFnZTNkLmNhbWVyYS5yb3RhdGlvbi54KSouMDM7XG5cdFx0QGxpZ2h0QXVyYS51cGRhdGUoZHQpXG5cdFx0QHNvdXJjZS51cGRhdGUoZHQpXG5cblx0XHRQaHlzaWNzLnVwZGF0ZSgpXG5cdCAgICAgICAgXG5cdCAgICAjIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiaW5mb1wiKS5pbm5lckhUTUwgPSB3b3JsZC5wZXJmb3JtYW5jZS5zaG93KCk7XG5cdFx0dGFyZ2V0Qm9keSA9IG5ldyBUSFJFRS5WZWN0b3IzKDAsLjI1LDApXG5cdFx0Zm9yIHN0b25lIGluIEBzdG9uZXNcblx0XHRcdHN0b25lLnVwZGF0ZShkdCwgQGdvbGVtKVxuXHRcdFxuXHRcdFxuXHRcdCMgdGFyZ2V0cyA9IFtuZXcgVEhSRUUuVmVjdG9yMygtLjIxLC4xMywwKSxuZXcgVEhSRUUuVmVjdG9yMyguMjEsLjEzLDApXVxuXHRcdCMgZm9yIGkgaW4gWzAuLi50YXJnZXRzLmxlbmd0aF0gYnkgMVxuXHRcdCMgXHRiaWdTdG9uZXNbaV0gPSBcblx0XHQjIFx0c3RvbmUudXBkYXRlKGR0LCB0YXJnZXRzKVxuXHRcdHJldHVybiJdfQ==